# JSON Lines Pretty Printer

このファイルにTODOをまとめます。
実装したら当該の行は削除してください。

## 実装の進め方

- TODO項目を1つずつ作成し、できたらユーザに確認してください。
- 仕様が曖昧な部分、実装上で迷う部分があったら、ユーザに確認してください。

## TODO

### フィルタ機能の改善

- フィルタを開いたとき、チェックボックスに(0/2) のように表示する処理が、自分自身のフィルタの結果も反映してしまっています。このため、１回フィルタを設定してもう１回同じ列のフィルタを開くと、チェックしていなかった項目がすべて(0/n)になってしまいますが、これは意図した動きではありません。現在設定しようとした列がただ１つであれば、再度開いてもすべて (n) のような表示に、複数の列にフィルタがある場合は、現在設定中の列のフィルタはすべて解除された状態として件数をカウントし、それを(n/m)のnのところに表示してください。

- テキストには、テキストフィルタ、というタイトルがありますが、他にはありません。見た目を揃えたいです。プルダウンの種類も増えてきましたので、ドキュメントにまとめ、各フィルタの種類ごとのUIを統一感のあるものにしたいです。プルダウンの種類のドキュメントは、今後の修正の際にチェックリストとして使い、共通する機能の実装が漏れないように注意してください。

- テキストフィルタは、textareaで複数行入力であるため、改行した場合は、それぞれの行をOR判定としたいです。各行の中でのAND/ORのほうが優先度が高く、それぞれの行のORの優先度は下げてください。AND/ORの優先度も決めてなかったと思いますが、ANDを優先としたいです。"A;B C\nD" であれば (A OR (B AND C)) OR D、と解釈する形です。AND/OR優先度については、全体のフィルタ機能など、すべての検索箇所で同じような処理になるように再確認してください。

- 文字列が２０種類以内の場合のプルダウンで、他カラムにフィルタが設定されていても、(n/m) 形式の表示になりません。

- 文字列が２０種類以内の場合のプルダウンで、プルダウンの下に表示される適用、キャンセルボタンの下半分が途切れてしまっています。また、現状ではスクロール無しで表示される項目数が６項目で少なめなので、もう少しプルダウンのサイズを大きくし、チェックボックスの一覧については行間をもう少し減らしてコンパクトにしてください。

- 2025-05-13形式の日付、2025-05-13T10:16:00.345+09:00形式の時刻を認識し、専用のフィルタを実装したいです。その列のデータが、空欄以外がすべて同じ形式であった場合、日付型、時刻型として認識し、開始・終了の範囲を、カレンダー表示で選びたいです。時刻の場合は、カレンダーに加えて、時・分・秒の入力欄を備え、入力欄クリックで、時は4列6行に0～23、分・秒は6列10行で0～59を表示し、クリックのみで数値を入力できるようにしたいです。

### filter-feature-design.mdに記載された残作業（フェーズ3）

- フィルタの永続化（sessionStorage）
- アニメーション追加
- キーボードショートカット
- フィルタのクリア機能