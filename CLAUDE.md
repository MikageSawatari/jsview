# JSON Lines Pretty Printer

## プロジェクト概要
JSON Lines（JSONL）形式のデータを整形して見やすく表示するWebツールです。
複数行のJSONデータを個別にパースし、インデント付きで表示します。

## 作業の進め方

- TODO項目を1つずつ作成し、できたらユーザに確認してください。
- 仕様が曖昧な部分、実装上で迷う部分があったら、ユーザに確認してください。

## 技術スタック
- HTML5
- CSS3
- Vanilla JavaScript

## ファイル構成
```
jsview/
├── index.html    # メインHTMLファイル
├── style.css     # スタイルシート
├── script.js     # JavaScript（整形ロジック）
└── CLAUDE.md     # プロジェクト情報
```

## 主な機能
1. **タブインターフェース**
   - 入力タブとテーブルタブの切り替え機能
   - 整形成功時に自動でテーブルタブに切り替え

2. **JSON Lines の入力と検証**
   - 複数行のJSON形式データを個別にパース
   - 無効なJSON形式の場合、アラートでエラーメッセージを表示
   - Ctrl+Enterショートカットで整形実行

3. **テーブル表示**
   - JSONデータを表形式で表示
   - ネストされたキーは「.」区切りで表現
   - オブジェクト値は非表示（子要素のみ表示）
   - 存在しないキーは空欄で表示

4. **JSONダイアログ表示**
   - テーブル行をクリックでモーダルダイアログ表示
   - 構文ハイライト付きのPretty Print
   - indent-rainbow風の色付きインデントガイド
   - ESCキー、×ボタン、背景クリックで閉じる

## 使用方法
1. 入力タブでJSON Lines形式のデータを入力
2. 「整形」ボタンをクリック（またはCtrl+Enter）
3. エラーがなければ自動的にテーブルタブに切り替わり、データが表形式で表示
4. テーブルの行をクリックすると、その行のJSONデータがダイアログで表示
5. データを変更する場合は入力タブに戻り、クリアボタンで初期化

## 入力例
```
{"name": "mikage", "age": 12, "score": {"game": 100, "english": 50}}
{"name": "tomomi", "email": "test@example.com", "score": {"game": 80, "english": 90}}
```

## 実装済み機能

- ✅ タブ機能（入力/テーブル）を実装
- ✅ JSONデータをテーブル形式で表示する機能を実装
- ✅ テーブル行クリックでJSONダイアログを表示
- ✅ ダイアログでindent-rainbow風の色付けを実装

## 画面構成

- 画面上部に、[入力|テーブル]のタブを追加し、初期は入力タブとする
- データを入力し、整形ボタンを押すと、テーブルタブに移動し、結果をテーブル表示する
- テーブルの行をクリックすると、その行のJSONをダイアログ表示する。

### テーブル表示

- JSONの各キーを列方向に並べて表形式で表示する
- object は表示しない（下の階層でのみ値を表示する）
- キーの値がすべてobjectである場合、そのキーの列自体を表示しない
- ネストされたキーは、「.」区切りで階層表現する
- キーが存在しないセルは空欄とする。
- 同じキー名に、異なる型が混在することがあるが許容する。

#### 入力例
```
{"name": "mikage", "age": 12, "score": {"game": 100, "english": 50}}
{"name": "tomomi", "email": "test@example.com", "score": {"game": 80, "english": 90}}
```
#### テーブル表示例

| name | age | email | score.game | score.english |
| ---- | --- | ----- | ---------- | ------------- |
| mikage | 12 |  | 100 | 50 |
| tomomi |  | test@example.com | 80 | 90 |

## ダイアログ表示

- 選択された行の1要素のJSONを Pretty Print する
- 構文ハイライト：
  - キー名：青色（#0451a5）
  - 文字列・数値：緑色（#098658）
  - ブール値・null：青色（#0000ff）
  - 括弧：グレー（#666）
- インデントは2スペースで、indent-rainbow のように色を付ける：
  - 各インデントレベルごとに色付きの縦線を表示
  - レベル1：赤（#ff6b6b）
  - レベル2：シアン（#4ecdc4）
  - レベル3：青（#45b7d1）
  - レベル4：緑（#96ceb4）
  - レベル5：黄色（#ffeaa7）
  - レベル6：グレー（#dfe6e9）
  - 縦線は括弧の文字幅の中央に配置

## 開発環境での実行
単純なHTMLファイルなので、`index.html`をブラウザで開くだけで動作します。
ローカルサーバーは不要です。

## ブラウザサポート
モダンブラウザ（Chrome、Firefox、Safari、Edge）で動作確認済み。